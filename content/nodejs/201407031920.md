Status: draft
Title: nodejs + express にてAPIサーバを立てる。
Date: 2014-05-19 18:00
Category: nodejs
Tags: nodejs, webapi
Slug: nodejsapiserver
Author: youske
Summary: nodejsにてapiのみ受け付けるサーバを立てる。

# はじめに
node.js + expressにて作成


# 今後の展開
１台の開発用サーバでの運用となる。より突っ込んだクラスタリング構成を作成してみる。

# express セッション
redisをセッションキャッシュにする。



npm install connect-redis

RedisStore = require('connect-redis')(express);

app.use(express.cookieParser());
app.use(express.session({
  secret:"oyoyoyoyo",
  store:new RedisStore(),
  cookie: {maxAge: 86400 * 1000}
});
app.use(app.router);






一応構想

appサーバはpm2によるプロセスの管理を利用する。
セッションキャッシュ


