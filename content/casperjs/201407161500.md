status:Draft
Title: casperjsを利用について
Date: 2014-07-16 15:00
Category: casperjs
Tags: casperjs, scraping
Slug: casperjsscrape
Author: youske
Summary: casperjsの利用に関してメモ程度のこと

# はじめに
casperjsなどのインストールを下のを前提として。

var casper = require('casper').create( config );
var fs = require('fs');
var utils = require("utils");

## 設定に関して
設定ファイルを本体のスクリプトとは別にする。

'''
//このような感じで直後にconfigファイルをロードして設定を変更できるようにする。
var config = require('./config.js');


'''


コンフィグファイルなどはつぎのようなスクリプト
'''
'use strict';
var config = (function(window,document,undefined){
  var config = {
    startUrl: "<プログラムが開始された時のスタート>",
    viewportSize: { width: 1024, height: 768 },
    verbose: false,
    logLevel: 'error',
    loadPlugins:false,
    loadImages:false,
    useragent:'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.103 Safari/537.36 '  
  };
  return config;
})(this, this.document);
module.exports = config;
'''

# evaluate関数について
この関数の中に入ると、
casperjsの仕様上別の領域で実行されているためスコープが変わる。



# Chocolatey初期設定

windows環境コマンドラインシェルから以下のスクリプトを実行

'''
@powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))" && SET PATH=%PATH%;%systemdrive%\chocolatey\bin
'''

インストール後はchocoコマンドを利用する。
'''
choco /? or /help
'''

# インストール後
windows環境らしくGUIでパッケージを管理したいので以下のGUI管理ツールを導入
'''
choco ChocolateyGUI
'''

お手軽にソフトウェアをインストールできるのでとても重宝








