Status: draft
Title: ansible ツリー構成
Date: 2015-02-02 11:30
Category: ansible
Tags: ansible, provisioning
Slug: ansibleprovisioning
Author: youske
Summary: ansible構成についていくつか決めておくこと

ansibleで対象となるのはノードが、何の役割を持ってどのソフトウェアをインストールするかを決めることができる

対象となるノード　< inventory
どの役割 < playbook
何のソフトウェア < role

inventoryで示されるのはあくまでansibleサーバから見て対象マシンはなんなのか？
ということを示しているだけに過ぎない。

例えばapache+php+mysql+memcachedの構成において
どのマシンでどのように動いているか？
マシン同士の連携を表現するには？


group_varsを駆使しして行う。

memcachedグループ
memcachedは１台でも利用することができるが、何らかの塊を持って運用することもある。
したがって次のようなグループが想定される。

memcached_group: 
  - session: 
    - host:
      - ip : 172.17.1.101
      - port : 11211
    - host:
      - ip : 172.17.1.102
      - port : 11211
 




あるウェブサイトの公開用フォルダを複数指定したい。

例えば次のような感じにローカルフォルダーを公開したい。
/var/www
/var/web
/var/dev

通常pathを切り替えるvirtualホスト設定を行うとすべてのケースで
似たようなvirtualhost設定を指定することになる。

どちらかといえばドメイン名cnameで切り替えることができればなおよし
また

