Status: draft
Title: nodejs + jugglingdb 利用してみる。
Date: 2014-05-19 18:00
Category: nodejs
Tags: nodejs, jugglingdb
Slug: nodejsjugglingdb
Author: youske
Summary: nodejsとjugglingDBを組み合わせて、DB読み書きをしてみる。

# はじめに
databaseへの読み書きを直接行うよりもORMを利用すると何かと便利そうです。
nodejsの中でも幾つかORMのソフトウェアはありますが、adapterが用意されているjugglingDBを利用します。

# コード
おおむね次のような感じ

'''
var Schema = require('jugglingdb').Schema;


var testmodel = shema.define( 'Test',{

});
schema.autoupdate();

testmodel.create();


'''

# express セッション
redisをセッションキャッシュにする。



npm install connect-redis

RedisStore = require('connect-redis')(express);

app.use(express.cookieParser());
app.use(express.session({
  secret:"oyoyoyoyo",
  store:new RedisStore(),
  cookie: {maxAge: 86400 * 1000}
});
app.use(app.router);






一応構想

appサーバはpm2によるプロセスの管理を利用する。
セッションキャッシュ


